<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Chapter3 数据链路层 | 水货不水</title><meta name="author" content="Fat1ger"><meta name="copyright" content="Fat1ger"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta name="description" content="Chapter3 数据链路层功能数据链路层的主要任务是实现帧在一段链路上或一个网络中进行传输。 数据链路层传输的协议数据单元(PDU)是帧 数据链路层使用的信道主要有两种：点对点信道、广播信道。  封装成帧 差错检测 透明传输 通过填充机制避免数据中的特殊字符被误解析为帧边界    点对点信道中的一些概念 链路（物理链路）：指一个结点到相邻结点的一段物理线路。链路只是一条通信路径的组成部分。 数据">
<meta property="og:type" content="article">
<meta property="og:title" content="Chapter3 数据链路层">
<meta property="og:url" content="http://seafoodfat1ger.github.io/2025/05/24/network/Chapter3/index.html">
<meta property="og:site_name" content="水货不水">
<meta property="og:description" content="Chapter3 数据链路层功能数据链路层的主要任务是实现帧在一段链路上或一个网络中进行传输。 数据链路层传输的协议数据单元(PDU)是帧 数据链路层使用的信道主要有两种：点对点信道、广播信道。  封装成帧 差错检测 透明传输 通过填充机制避免数据中的特殊字符被误解析为帧边界    点对点信道中的一些概念 链路（物理链路）：指一个结点到相邻结点的一段物理线路。链路只是一条通信路径的组成部分。 数据">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://seafoodfat1ger.github.io/img/Background.jpg">
<meta property="article:published_time" content="2025-05-24T06:30:14.000Z">
<meta property="article:modified_time" content="2025-06-06T14:03:39.100Z">
<meta property="article:author" content="Fat1ger">
<meta property="article:tag" content="compter_network">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://seafoodfat1ger.github.io/img/Background.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://seafoodfat1ger.github.io/2025/05/24/network/Chapter3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Chapter3 数据链路层',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-06 22:03:39'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link  rel="stylesheet" href="//at.alicdn.com/t/c/font_4046602_w4e3ixuz8in.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/toux.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont  icon-shouye"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-pengyouquanwenzhang"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-xiuxian"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw iconfont icon-dianying"></i><span> 影院</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw iconfont icon-youxi"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-gongjuxiang"></i><span> 工具箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw iconfont icon-xiangce"></i><span> 画廊</span></a></li><li><a class="site-page child" href="/tool/"><i class="fa-fw iconfont icon-gongjuxiang"></i><span> 工具</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyanban"></i><span> 留言版</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> 友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 良师益友</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-gerenjianli"></i><span> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw iconfont icon-guanyu-banben"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/Background.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="水货不水"><span class="site-name">水货不水</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont  icon-shouye"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-pengyouquanwenzhang"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-xiuxian"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw iconfont icon-dianying"></i><span> 影院</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw iconfont icon-youxi"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-gongjuxiang"></i><span> 工具箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw iconfont icon-xiangce"></i><span> 画廊</span></a></li><li><a class="site-page child" href="/tool/"><i class="fa-fw iconfont icon-gongjuxiang"></i><span> 工具</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyanban"></i><span> 留言版</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> 友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 良师益友</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw iconfont icon-gerenjianli"></i><span> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw iconfont icon-guanyu-banben"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Chapter3 数据链路层</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-24T06:30:14.000Z" title="发表于 2025-05-24 14:30:14">2025-05-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-06T14:03:39.100Z" title="更新于 2025-06-06 22:03:39">2025-06-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/compter-network/">compter_network</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Chapter3 数据链路层"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Chapter3-数据链路层"><a href="#Chapter3-数据链路层" class="headerlink" title="Chapter3 数据链路层"></a>Chapter3 数据链路层</h1><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>数据链路层的主要任务是实现帧在一段链路上或一个网络中进行传输。</p>
<p>数据链路层传输的协议数据单元(PDU)是帧</p>
<p>数据链路层使用的信道主要有两种：点对点信道、广播信道。</p>
<ul>
<li>封装成帧</li>
<li>差错检测</li>
<li>透明传输<ul>
<li>通过填充机制避免数据中的特殊字符被误解析为帧边界</li>
</ul>
</li>
</ul>
<h3 id="点对点信道中的一些概念"><a href="#点对点信道中的一些概念" class="headerlink" title="点对点信道中的一些概念"></a>点对点信道中的一些概念</h3><ul>
<li><strong>链路（物理链路）</strong>：指一个结点到相邻结点的一段物理线路。链路只是一条通信路径的组成部分。</li>
<li><strong>数据链路（逻辑链路）</strong>：当在一条链路上传输数据时，除了需要链路本身，还需要一些必要的通信协议。数据链路包含实现这些协议的硬件和软件。</li>
<li>帧：数据链路层对等实体之间<strong>进行逻辑通信的协议数据单元</strong>。数据链路层把网络层下交的数据构成帧发送到链路上，并把接受到的帧中的数据取出并上交给网络层。</li>
</ul>
<h3 id="为网络层提供服务"><a href="#为网络层提供服务" class="headerlink" title="为网络层提供服务"></a>为网络层提供服务</h3><ul>
<li><p>无确认的无连接服务：源主机发送帧时不需要先建立链路链接，目的主机收到帧时不需要发回确认。</p>
<p>适用于误码率较低的信道，如<strong>以太网</strong>。</p>
</li>
<li><p>有确认的无连接服务：源主机发送帧时不需要先建立链路链接，目的主机收到帧时需要发回确认。源主机在规定时间内未收到确认信号时，<strong>重传丢失的帧</strong>。</p>
<p>适用于误码率较高的信道，如无线通信。</p>
</li>
<li><p>有确认的面向连接服务：帧传输过程分为三个阶段：建立链路、传输帧、释放链路。</p>
<p>目的主机对收到的每一个帧都要返回确认。适用于可靠性要求较高的场合。</p>
<blockquote>
<p>有连接就一定有确认。</p>
</blockquote>
</li>
</ul>
<h3 id="链路管理"><a href="#链路管理" class="headerlink" title="链路管理"></a>链路管理</h3><p>数据链路层连接的<strong>建立、维持和释放</strong>的过程称为链路管理，主要用于面向连接的服务</p>
<p>链路两端结点通信前必须确认对方已处于<strong>就绪状态</strong>，这个过程称为<strong>链路建立</strong></p>
<h3 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h3><p>限制发送方的发送速率，使接收方能够及时处理接收到的数据，防止接收方的缓冲区溢出。</p>
<blockquote>
<p>OSI模型中数据链路层有流量控制功能</p>
<p>TCP/IP模型中流量控制功能被转移到了传输层</p>
</blockquote>
<h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><p>差错控制：使发送方确定接收方是否正确收到发送数据的方法</p>
<ul>
<li><p>位错：</p>
<ul>
<li>通常采用<code>循环冗余检验</code>或者<code>奇偶校验</code>等方法进行检测和纠正</li>
<li>通过自动重传请求来重传出错的帧，这种差错控制的方法称为<code>ARQ法</code>。</li>
</ul>
</li>
<li><p>帧错：</p>
<ul>
<li>引入定时器和编号机制</li>
<li>保证每一帧最终都能有且仅有一次正确地交付给目的节点</li>
</ul>
</li>
</ul>
<h2 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h2><p><strong>封装成帧</strong>：在一段数据的前后分别添加首部和尾部，构成帧</p>
<p>帧长=数据长度+首部长度+尾部长度。</p>
<p><img src="https://cdn.jsdelivr.net/gh/maotougu/picture-for-Typore/typore_img/202412291524639.png" alt="image-20241229152456369"></p>
<p>组帧：发送方</p>
<p>帧定界：首部和尾部中有很多控制信息，作用是确定帧的界限</p>
<p>帧同步：接收方从接受到的二进制比特流中区分出帧的起始和终止</p>
<p>帧长越长，帧的传输效率越高，传输差错发生的概率也随之提高；因此每种链路层协议都规定了帧的数据部分的长度上限，即最大传送单元。</p>
<p><strong>透明传输</strong>：无论传输的数据是什么样的比特组合，都应当能在链路上传送</p>
<ul>
<li><p>字符计数法</p>
<ul>
<li>帧首部使用一个计数字段来记录该帧所含字节数</li>
<li>（<strong>包括计数字段本身所占的一个字节</strong>）。</li>
<li>问题在于如果计数字段出错，就失去了帧边界划分的依据。</li>
</ul>
</li>
<li><p>字符填充的首尾定界法</p>
<ul>
<li>使用特定字节来界定一帧的开始与结束</li>
<li>为了避免误判，可以在特殊字符前添加一个转义字符ESC来加以区分，以实现数据的透明传输。</li>
</ul>
</li>
<li><p>比特填充的首尾定界法（HDLC协议使用）</p>
<ul>
<li>允许数据帧包含任意个数的比特</li>
<li>使用一个特定的比特串<code>0111 1110</code>来标志帧的开始和结束。</li>
<li><p>为了避免误判</p>
<ul>
<li>发送方先扫描整个<strong>数据字段</strong>，每遇到<strong>5个连续的1</strong>就在其后插入一个0（即使原来5个1后有0，也仍然填充0）</li>
<li>接收端接收到一个帧时，先找到标志字段确定边界；</li>
<li>再对比特流进行扫描，发现连续5个1时，就把后面的0删除。</li>
</ul>
</li>
<li><p><strong>性能优于字节填充法</strong></p>
</li>
</ul>
</li>
<li><p>物理编码违例法</p>
<ul>
<li>曼切斯特编码方法中，数据比特“1”编码为“高-低”电平对，“0”编码为“低–高”电平对</li>
<li>这时“高–高”和“低-低”是违规的，可以用来定界帧的起始和终止</li>
</ul>
</li>
</ul>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524153358227.png" alt="image-20250524153358227" style="zoom:50%;" /></p>
<h2 id="差错控制-1"><a href="#差错控制-1" class="headerlink" title="差错控制"></a>差错控制</h2><blockquote>
<p>本节仅讨论比特差错。</p>
</blockquote>
<h3 id="检错编码"><a href="#检错编码" class="headerlink" title="检错编码"></a>检错编码</h3><p>使用可检测错误的编码+ 重传：检错码</p>
<p>检错编码都使用冗余编码技术，核心思想是在有效数据被发送时，按某种关系附加一定的冗余位，构成一个符合某一规则的码字后发送。</p>
<p>误码率BER=出错比特数/传输的总比特数</p>
<ul>
<li><p>奇偶检验码：</p>
<ul>
<li>奇校验码：附加校验码后，码长为n的码字中1的个数为奇数</li>
<li>偶校验码：附加校验码后，码长为n的码字中1的个数为偶数</li>
</ul>
<blockquote>
<p>例如：1001101的奇检验码为10011011，偶检验码为10011010。</p>
</blockquote>
<p>只能检验奇数位的出错，但不能发现哪错了，也无法检验偶数位的出错</p>
</li>
<li><p>简单累加和(校验和)：</p>
</li>
<li><p>循环冗余校验CRC：</p>
<blockquote>
<p>可检查所有单比特错误</p>
</blockquote>
<ul>
<li>收发双方约定生成多项式G(x)，最高位和最低位必须为1。<ul>
<li>k位位串可视为阶数为k-1的多项式系数序列</li>
<li>例：除数1101的生成多项式P(X) = X^3^+ X^2^+ 1</li>
</ul>
</li>
<li>发送方基于待发送的数据和G(x)，计算出冗余码（帧检验序列<strong>FCS</strong>）</li>
<li>将冗余码放在数据后面一起发送。</li>
<li>接收方收到数据和冗余码后，通过G(x)判断数据和冗余码是否产生差错。</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/maotougu/picture-for-Typore/typore_img/202412291555096.png" alt="image-20241229155527879" style="zoom:50%;" /></p>
<p>循环冗余码的计算:</p>
<p>假设一段m位数据，计算冗余码：</p>
<ol>
<li>加0。假设G(x)的阶为r，在数据后面加r个0。</li>
<li>模2除。用G(x)对应的二进制串去除上一步添加了0后的数据，得到的余数即为冗余码（共r位）。</li>
<li>把冗余码（即FCS）添加到数据的后面，然后发送</li>
<li>接收方检验：带冗余码的数据模2除G(x)对应的二进制串，余数为0则说明无差错。</li>
<li>发送方的FCS生成和接受方的CRC检验都是由硬件实现的，处理非常迅速。</li>
</ol>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524161902318.png" alt="image-20250524161902318" style="zoom:50%;" /></p>
<blockquote>
<p>除法的时候：</p>
<p>商一直000，直到和除数位数相同</p>
<p>（0的时候不断从上面往下面补数字）</p>
<p>作差的时候 用异或的方法，相同是0，不相同是1</p>
</blockquote>
<h3 id="纠错编码"><a href="#纠错编码" class="headerlink" title="纠错编码"></a>纠错编码</h3><p>海明码</p>
<blockquote>
<p>可纠正一位差错</p>
</blockquote>
<p>原理是在有效信息位中添加几个位形成海明码，并把海明码的每个二进制位分配到几个奇偶检验组中。某一位出错后，就会引起有关的几个检验位的值变化，可以指出错位的位置。</p>
<p>码距：</p>
<p>l=d+c+1</p>
<ul>
<li>检测d位错误：码距至少为d+1</li>
<li>纠正d位错误：码距至少为2d+1</li>
</ul>
<p><code>n</code>表示有效信息位数，<code>k</code>为校验位的位数，则信息位<code>n</code>和校验位<code>k</code>应该满足</p>
<p>n+k+1≤2^k^</p>
<p>校验位置于 2^k^位上</p>
<p>校验位的值为所有使用该校验位的值的<code>异或</code>结果。</p>
<p>例：</p>
<p>n=4，k=3</p>
<p>信息位D4D3D2D1(1010)</p>
<p>检验位为P3P2P1</p>
<p>海明码：</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524164413832.png" alt="image-20250524164413832"  /></p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524164454391.png" alt="image-20250524164454391"  /></p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524164505612.png" alt="image-20250524164505612"></p>
<p>海明码是1010010</p>
<p>检验原理：</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524164706591.png" alt="image-20250524164706591"></p>
<blockquote>
<p>检错码/纠错码能实现无比特差错的传输，出错直接丢弃，但不是可靠的传输</p>
<p>其他的错误包括帧丢失、帧重复、帧失序</p>
</blockquote>
<h2 id="流量控制与可靠传输机制"><a href="#流量控制与可靠传输机制" class="headerlink" title="流量控制与可靠传输机制"></a>流量控制与可靠传输机制</h2><h3 id="流量控制-1"><a href="#流量控制-1" class="headerlink" title="流量控制"></a>流量控制</h3><ul>
<li>流量控制是指由接收方控制发送方的发送速率，使接收方有速购的缓冲空间来接收每个帧。</li>
<li>常见的流量控制方法有两种：停止–等待协议和滑动窗口协议。</li>
<li>数据链路层和传输层均有流量控制的功能，它们都用到了滑动窗口协议，区别如下：<ul>
<li>数据链路层控制的是<code>相邻结点之间</code>的流量，而传输层控制的是<code>端到端</code>的流量。</li>
<li>数据链路层的控制手段是接收方<strong>收不下就不返回确认</strong></li>
<li>传输层的控制手段是接收方通过<strong>确认报文段中的窗口值</strong>来调整发送方的发送窗口</li>
</ul>
</li>
</ul>
<p><strong>停止–等待流量控制</strong></p>
<ul>
<li>发送方发送一帧，等待接收方应答信号</li>
<li>接收方接收一帧，反馈一个应答信号</li>
<li>每次只能一帧，<code>传输效率低</code></li>
</ul>
<p><strong>滑动窗口流量控制</strong></p>
<p>滑动窗口协议的基本思想</p>
<ul>
<li>允许发送方<strong>连续发送多个帧</strong></li>
<li>通过滑动窗口实现<strong>流量控制</strong><ul>
<li>每个待发送的帧都有一个序列号</li>
<li>发送方维护一个发送窗口，它包含一组序列号，对应允许它发送的帧</li>
<li>接收方维护一个接收窗口，对应允许它接收的帧</li>
</ul>
</li>
</ul>
<p>发送方</p>
<ul>
<li>发送窗口内的序列号代表允许它发送的帧<ul>
<li>窗口内最大的序列号称为窗口上边界，或窗口上沿、前沿</li>
<li>窗口内最小的序列号称为窗口下边界，或窗口下沿、后沿</li>
</ul>
</li>
<li>发送帧，上边界+1</li>
<li>发送窗口下边界的帧被接收方确认后，下边界+1</li>
</ul>
<p>接收方</p>
<ul>
<li>接收窗口内的序列号代表它可以接收的帧<ul>
<li>收到的帧序列号等于窗口下边界时，将该帧上交网络层，并返回确认帧，同时整个窗口向前移动1个位置</li>
<li>如果收到帧序列号落在接收窗口之外，则将其丢弃</li>
</ul>
</li>
<li>注意：接收窗口<strong>总是保持固定大小</strong></li>
</ul>
<p>滑动窗口具有的特性：</p>
<ul>
<li>接收窗口向前滑动时，发送窗口才有可能向前滑动</li>
<li>接收窗口大小为1，可以保证帧<code>有序接收</code></li>
<li>数据链路层的滑动窗口协议中，窗口大小在传输过程中<code>固定</code></li>
</ul>
<h3 id="可靠传输机制"><a href="#可靠传输机制" class="headerlink" title="可靠传输机制"></a>可靠传输机制</h3><ul>
<li><code>超时重传</code>：发送方在发送某个数据帧后开始一个计时器，若一定时间内没收到发送的数据帧的确认帧，就重新发送该数据帧，直到发送成功为止</li>
<li><code>自动重传请求(ARQ)</code>：接收方请求发送方重传出错的数据帧来恢复出错的帧。</li>
</ul>
<p>指发送方发送的数据都能被接收方正确地接受。</p>
<p>通常采用<strong>确认和超时重传</strong>两种机制。</p>
<ul>
<li><p>确认：</p>
<ul>
<li>接收方接收到一个数据帧，向发送方发送一个无数据的控制帧（确认帧）</li>
<li>捎带确认：将确认捎带在一个回复帧中，提高效率</li>
</ul>
</li>
<li><p>超时重传：</p>
<ul>
<li>发送方在发送一个数据帧后就启动一个计时器</li>
<li>若在规定时间内没有收到所发送数据帧的确认帧，则重发该数据帧。</li>
</ul>
</li>
</ul>
<p>自动重传请求（ARQ）</p>
<ul>
<li>重传自动进行，接收方不需要发出重传请求</li>
</ul>
<p>ARQ协议分为三种：</p>
<ul>
<li><p>停止—等待协议：发送窗口=接收窗口=1</p>
</li>
<li><p>后退N帧（GBN）协议：发送窗口N个，接收窗口1个</p>
</li>
<li><p>选择重传（SR）协议：发送窗口N个，接收窗口M个（一般来说N=M）</p>
</li>
<li><p>后退N帧协议：</p>
<ul>
<li>发送方发送N个数据帧后，如果发现这N个帧的前一个帧超时没有接收到确认信息，此时发送方需要重传该<strong>出错帧及随后的N个帧</strong>。</li>
<li>这意味着接收方<strong>只允许按顺序接收帧</strong>。</li>
<li>累计确认： <strong>ACKn表示n及n以前的帧均已被正确接收</strong></li>
<li><script type="math/tex">1<W_T≤2^n−1</script>。<ul>
<li>发送窗口WT</li>
<li>采用n比特对帧编号</li>
<li>否则接收方无法区分新数据帧和旧数据帧</li>
</ul>
</li>
</ul>
</li>
<li><p>选择重传协议：</p>
<ul>
<li>可以设法只重传差错帧，但必须加大接受窗口，以收下失序但正确到达的数据帧；</li>
<li>当接收方检测到出错帧时，发送一个否定的确认帧NAK，要求 发送方立刻重传NAK指定的数据帧。</li>
<li><p>等到所缺失的数据帧收齐后，再一并送交上层。</p>
</li>
<li><script type="math/tex; mode=display">W_R+W_T≤2^n</script><ul>
<li>否则新数据帧和旧重传的数据帧重叠</li>
</ul>
</li>
<li><script type="math/tex; mode=display">W_R≤W_T</script><ul>
<li>否则接收窗口永远填不满，多出来的没有意义</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="信道利用率"><a href="#信道利用率" class="headerlink" title="信道利用率"></a>信道利用率</h3><p><strong>停止–等待协议下的信道利用率</strong></p>
<p>信道利用率：</p>
<p>发送方在一个发送周期内，有效地发送数据所需要的时间占整个发送周期的比率。</p>
<script type="math/tex; mode=display">U=\frac{T_D}{T_D+RTT+T_A}</script><p>TD：发送时延</p>
<p>RTT：<strong>双向</strong>传播时延</p>
<p>TA：接收时延，通常可以忽略不计</p>
<blockquote>
<p>假设主机甲采用停-等协议向主机乙发送数据帧，数据帧和确认帧 长度均为1000B，传输速率是10kbps，单向传播时延是200ms。则 主机甲的最大信道利用率</p>
<p>TD = TA = (1000B×8)/10000bps = 800ms </p>
<p>RTT = 200×2 = 400ms </p>
<p>U = TD /(TD +RTT+ TA) = 800/(800+400+800) = 800/2000 = 0.4</p>
</blockquote>
<p>信道利用率：<script type="math/tex">U=\frac{L}{CT}</script></p>
<ul>
<li>T发送周期 从开始发数据到收到第一个确认帧</li>
<li>C发送方数据传输率</li>
<li>T内发送Lbit数据</li>
</ul>
<p>信道吞吐率 = 信道利用率*发送方发送速率</p>
<p><strong>连续ARQ协议的信道利用率</strong></p>
<ul>
<li>连续ARQ协议采用流水线传输，即发送方可以连续发送多个分组</li>
<li>只要发送窗口足够大，就可以使信道上数据持续流动。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/maotougu/picture-for-Typore/typore_img/202412311312531.png" alt="image-20241231131247360"></p>
<p><img src="https://cdn.jsdelivr.net/gh/maotougu/picture-for-Typore/typore_img/202412311449125.png" alt="image-20241231144933905"></p>
<p><img src="https://cdn.jsdelivr.net/gh/maotougu/picture-for-Typore/typore_img/202412311449303.png" alt="img"></p>
<h2 id="介质访问控制MAC"><a href="#介质访问控制MAC" class="headerlink" title="介质访问控制MAC"></a>介质访问控制MAC</h2><ul>
<li>介质访问控制的任务：为使用介质的每个节点隔离来自同一信道上其他结点所传送的信号。</li>
<li>常见方法：信道划分介质访问控制、随机访问介质访问控制、轮询访问介质访问控制。</li>
<li>用来决定广播信道中信道分配的协议属于数据链路层的一个子层，称为介质访问控制（<strong>MAC</strong>）子层。</li>
</ul>
<h3 id="信道划分介质访问控制（静态）"><a href="#信道划分介质访问控制（静态）" class="headerlink" title="信道划分介质访问控制（静态）"></a>信道划分介质访问控制（静态）</h3><p>将使用同一传输介质的多个设备的通信隔离开，把时域和频域资源合理地分配给这些设备。</p>
<p>信道划分介质访问控制通过<strong>复用</strong>技术实现，包括以下四种：</p>
<ul>
<li>频分复用FDM<ul>
<li>将物理信道的<code>总带宽</code>分割成若干个与<code>传输单个信号</code>带宽相同的<code>子信道</code>，每个子信道只能被一个信号所占用</li>
<li>每个子信道分配带宽可<code>不相同</code>，但总和不能超过信道的<code>总带宽</code></li>
<li>为防止子信道之间的干扰，相邻信道之间需要加入<code>保护频带</code></li>
</ul>
</li>
<li>时分复用TDM<ul>
<li>将一条信道按时间分成若干<code>时间片</code>，轮流分配给多个信号使用。</li>
</ul>
</li>
<li><p>波分复用</p>
<ul>
<li>光的频分多路复用技术，在光纤中传输<code>不同波长(频率)</code>的光信号</li>
<li>由于不同波长的光信号<code>互相不干扰</code>，所以最后可以直接将波长分解出来</li>
<li>光波处于频谱的<code>高频段</code>，有很高的带宽，所以可以实现<code>多路波分复用</code>。</li>
</ul>
</li>
<li><p>码分复用（码分多址）：</p>
<ul>
<li>共享频率也共享时间，但是将每个比特时间再划分成m个短的时间槽，称为<code>码片</code>，每个站点被指派一个唯一的m位码片序列。</li>
<li>发送1时，站点发送其码片序列；发送0时，站点发送码片序列的反码。</li>
<li>当两个或多个站点同时发送时，各路数据在信道中线性相加。为了能分离出各路信号，要求各个站点的码片序列<code>相互正交</code>。</li>
</ul>
</li>
</ul>
<h3 id="随机访问介质访问控制（动态）"><a href="#随机访问介质访问控制（动态）" class="headerlink" title="随机访问介质访问控制（动态）"></a>随机访问介质访问控制（动态）</h3><blockquote>
<p>又称争用型协议。</p>
</blockquote>
<p>所有用户都能随机发送信息，占用信道的<code>全部速率</code>，不需要信道划分</p>
<p>但当有两个及以上用户同时发送时，就会产生<code>帧冲突</code>（碰撞）</p>
<p>解决冲突：每个用户需要按一定的规则反复重传帧</p>
<p>结点之间既不共享时间，也不共享空间</p>
<p>实际上将广播信道转换为点到点信道的机制</p>
<p>ALOHA协议、CSMA、CSMA/CD、CSMA/CA等</p>
<h4 id="CSMA-CD协议"><a href="#CSMA-CD协议" class="headerlink" title="CSMA/CD协议"></a>CSMA/CD协议</h4><blockquote>
<p>适用于有线网络</p>
</blockquote>
<p>载波监听多点访问/碰撞检测协议</p>
<p>适用于<code>总线形网络</code>或<code>半双工</code>网络环境，站点不能同时发送和接收。</p>
<p>工作原理：</p>
<ul>
<li>载波监听<ul>
<li>侦听<strong>信道空闲</strong>，则开始发送帧，否则等到信道上没信号能量后再发送</li>
<li><code>先听后发</code></li>
</ul>
</li>
<li>碰撞检测<ul>
<li>发送过程中<strong>持续监测信道</strong></li>
<li><code>边听边发</code></li>
</ul>
</li>
<li>碰撞强化：<ul>
<li>若未检测到碰撞，则发送完毕该帧</li>
<li>否则终止数据发送，并发送32或48bit的<strong>人为干扰信号</strong>，以便通知其他站点发生了碰撞。</li>
</ul>
</li>
<li>碰撞退避<ul>
<li>终止发送后，执行<code>指数退避算法</code></li>
<li>等待一段时间后执行<code>边听边发</code>步骤</li>
</ul>
</li>
</ul>
<p>争用期&amp;帧长：</p>
<p>两个公式：</p>
<p>发送帧的时间（帧长度/数据传播速率）&gt;=争用期（双向时延）</p>
<p>最短帧长 = 数据传播速率×争用期</p>
<ul>
<li>设 τ 为单程传播时延，则发送数据后至多经过 2τ 时间后，就能知道是否发生了碰撞。</li>
<li><p>争用期（冲突窗口或碰撞窗口）</p>
<ul>
<li>以太网端到端往返时间 2τ  </li>
<li>在争用期内未检测到碰撞，就确定这次发送不会发生碰撞</li>
</ul>
</li>
<li><p>CSMA/CD的最短帧长 = 总线传播时延×数据传播速率×2 = 数据传播速率×争用期</p>
<ul>
<li>收到小于一个最小帧长的帧会默认发生了碰撞，<strong>直接丢弃</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>以太网取51.2μs为争用期的长度</strong>；</p>
<p>以太网中规定的最短有效帧长就是64字节。</p>
<p>对于10Mb/s的以太网，在争用期内可发送512bit，即64字节。</p>
<p>对于100Mb/s的以太网，仍然是64字节的发送时间，所以争用期 =5.12μs</p>
<p><strong>帧间间隔的理解：</strong>以太网规定了帧间最小间隔为9.6us，相当于96比特时间；</p>
<p>这样做是为了使刚刚收到数据帧的站的接收缓存来得及清理，做好接收下一帧的准备</p>
<p><strong>强化碰撞的理解：</strong>当发送数据的站一旦发现了碰撞时，除立即停止发送数据外，还要再继续发送32比特或48比特的人为干扰信号，以便让所有用户都知道现在已经发生了碰撞</p>
<p>对于10Mb/s以太网，发送32（或48）比特只需要3.2（或4.8）us</p>
</blockquote>
<p>指数退避算法：<strong>随重传次数增大而增大</strong>（动态退避）</p>
<ul>
<li>基本退避时间：一般取争用期 2τ</li>
<li>定义参数 k : k=min[重传次数，10]，即k<strong>最大为10</strong></li>
<li>求退避时间T : 从 [0,2^k−1] 中任取一个整数 r </li>
<li>退避时间 t=r×基本退避时间=r*2τ</li>
<li>重传 16 次仍不成功，说明网络拥挤，<strong>放弃发送，抛弃此帧，向高层报告错误</strong></li>
</ul>
<p>可以动态地适应发送站点的数量</p>
<p>考虑了负载对冲突的影响。</p>
<p>当网络负载小时，后退时延的取值范围也小</p>
<p>当网络负载大时，后退时延的取值范围也随着增大</p>
<p>CSMA/CD协议的优缺点讨论</p>
<ul>
<li>网络负载较轻时效率高</li>
<li>硬软件实现简单、灵活</li>
<li>网络负载较重时，碰撞发生概率增大<ul>
<li>网络效率较低</li>
</ul>
</li>
<li>由于存在多次冲突的可能，数据从发送方到达接收方的时间没有保证<ul>
<li>实时性较差</li>
</ul>
</li>
</ul>
<p><strong>局域网技术标准</strong>：</p>
<p>IEEE802标准将局域网的数据链路层分为两个子层</p>
<ul>
<li>LLC(Logic Link Control)逻辑链路控制子层</li>
<li>MAC(Media Access Control)介质访问控制子层</li>
</ul>
<p><strong>局域网对LLC子层透明</strong></p>
<p>==与接入到传输媒体有关的内容都放在 MAC子层，而 LLC 子层则与传输媒体无关==
不管采用何种协议的局域网，对 LLC 子层来说都是透明的。</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250313141028423.png" alt="image-20250313141028423" style="zoom:50%;" /></p>
<h2 id="PPP协议"><a href="#PPP协议" class="headerlink" title="PPP协议"></a>PPP协议</h2><p>有连接不可靠服务</p>
<blockquote>
<p>即点对点协议。是现在最流行的点对点链路控制协议。</p>
<p>主要有两种应用：</p>
<ul>
<li>用户通常要连接到某个ISP才能接入互联网，PPP协议就是用户计算机与ISP通信时所用的数据链路层协议</li>
<li>广泛用于广域网路由器之间的专用线路。</li>
</ul>
</blockquote>
<p>组成部分：</p>
<ul>
<li><strong>链路控制协议LCP</strong>。用来建立、配置、测试数据链路连接，以及协商一些选项。</li>
<li><strong>网络控制协议NCP</strong>。PPP允许采用多种网络层协议，每个不同的网络层协议要用一个相应的NCP来配置，为网络层协议建立和配置逻辑连接。</li>
<li><strong>一种将IP数据报封装到串行链路的方法</strong>。IP数据报在PPP帧中就是其信息部分，这个信息部分的长度受到最大传送单元（MTU）限制。</li>
</ul>
<p>PPP帧的格式：</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525012007171.png" alt="image-20250525012007171" style="zoom:50%;" /></p>
<ul>
<li><p>首部和尾部各有一个标志字符（F），规定为0x7E，作为定界符。</p>
</li>
<li><p>PPP使用<strong>异步传输时，采用字节填充法</strong>，使用的转义字符是0x7D；使用<strong>同步传输时，使用零比特填充法</strong>实现透明传输。</p>
</li>
<li><p>地址字段A：占1字节，规定为0xFF</p>
</li>
<li><p>控制字段C：占1字节，规定为0x03</p>
</li>
<li><p>协议段：占2字节，用于识别信息字段(又称为载荷,payload)的类型</p>
<ul>
<li>0x0021，则信息字段是IP数据报</li>
<li>0xC021，则信息字段是PPP链路控制协议（LCP）的数据</li>
<li>0x8021：信息字段是网络控制数据(NCP)</li>
</ul>
<p>因为PPP是点对点的，而不是总线形</p>
<p>==所以<strong>无需使用CSMA/CD协议</strong>，没有最短帧长的限制==</p>
</li>
<li><p>帧检验序列（FCS）：占2字节，是使用CRC检验的冗余码。</p>
</li>
</ul>
<p>==PPP协议状态图：==</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525011739378.png" alt="image-20250525011739378" style="zoom:50%;" /></p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525013025697.png" alt="image-20250525013025697" style="zoom:50%;" /></p>
<p>==PPP协议的特点：==</p>
<ul>
<li>不使用序号和确认机制，只保证无差错接受（CRC检验）因此是<strong>不可靠服务</strong></li>
<li>只支持<strong>全双工</strong>的点对点链路，不支持多点线路</li>
<li>PPP的两端可以<strong>运行不同的网络层协议</strong>，但仍可以使用同一个PPP通信</li>
<li>面向<strong>字节</strong>，所有PPP帧的长度都是整数个字节</li>
<li>支持身份鉴别<ul>
<li>PAP传密码过去核对</li>
<li>CHAP时间戳口令传过来和输入核对，避免传输密码这种敏感信息</li>
</ul>
</li>
<li>提供差错检测，但是不提供纠错功能。</li>
<li>支持动态分配IP地址</li>
</ul>
<p>PPP的透明传输问题(帧边界识别)</p>
<ul>
<li><p>同步传输(如SONET/SDH)：零比特填充</p>
<ul>
<li>发送端：只要发现有 5 个连续 1，则立即填入一个 0</li>
<li>接收端：对帧中的比特流进行扫描，每当发现 5 个连续1时，就把这 5 个连续 1 后的一个 0 删除</li>
</ul>
</li>
<li><p>==异步传输：字符填充==</p>
<ul>
<li><p>信息字段中的每一个0x7E -&gt; 0x7D, 0x5E </p>
</li>
<li><p>信息字段中的每一个0x7D -&gt; 0x7D, 0x5D</p>
</li>
<li><p>信息字段中的每一个ASCII 码控制字符(小于 0x20 的字符)</p>
<ul>
<li>前面加入 0x7D，且编码改变<ul>
<li>例：0x03-&gt; 0x7D, 0x23</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>为什么PPP不使用帧序号和确认机制</p>
<p>1、开销就要增大 在数据链路层出现差错的概率不大时,使用比较简单的PPP 协议较为合理。
2、在因特网环境下,PPP 的信息字段放入的数据是IP 数据报。当数据帧在路由器中从数据链路层上升到网络层后,仍有可能因网络授拥塞而被丢弃。因此,数据链路层的可靠传输并不能保证网络层的传输也是可靠的</p>
<p>3.PPP 协议在帧格式中有帧检验序列FCS字段。端到端的差错检测最后由高层协议负责。因此,PPP 协议可保证无差错接受。</p>
</blockquote>
<h2 id="局域网"><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h2><blockquote>
<p>包括以太网、令牌环网、FDDI</p>
</blockquote>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>局域网（LAN）指在一个较小地理范围内，将各种计算机、外部设备和数据库系统等，通过双绞线等连接介质互相连接起来，组成资源和信息共享的计算机互连网络。</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点*"></a>特点*</h3><ul>
<li>地理范围有限，用户个数有限。</li>
<li>传输速率高。局域网的传输速率一般为1~100Mb/s</li>
<li>时延较低。能支持计算机之间的告诉通信</li>
<li>误码率低，因近距离传输，所以误码率很低，一般在10-8～10-11之间</li>
<li>多采用分布式控制和广播式通信<ul>
<li>在局域网中各站是平等关系而不是主从关系</li>
<li>可以进行广播或组播</li>
</ul>
</li>
</ul>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524222406049.png" alt="image-20250524222406049" style="zoom:50%;" /></p>
<ul>
<li>底层协议简单<ul>
<li>距离短、时延小、成本低、传输速率高、可靠性高</li>
<li>不在乎信道利用率</li>
</ul>
</li>
<li>不单独设立网络层<ul>
<li>局域网的拓扑结构多采用总线型、环型和星型等共享信道</li>
<li>网内一般不需要中间转接，流量控制和路由选择功能大为简化</li>
</ul>
</li>
<li>采用多种媒体访问控制技术<ul>
<li>采用共享广播信道，而信道又可用不同的传输媒体</li>
<li>面对的是多源、多目的链路管理的问题</li>
</ul>
</li>
</ul>
<h3 id="比特时间"><a href="#比特时间" class="headerlink" title="比特时间"></a>比特时间</h3><p>比特时间：一比特时间就是发送一比特所需要的时间。</p>
<p>好处：便于建立信息长度和发送延迟的关系，这种时间单位与数据率密切相关。</p>
<p>100比特时间：假设数据率是10Mbit/s，则100比特时间等于10us</p>
<h3 id="以太网与IEEE-802-3"><a href="#以太网与IEEE-802-3" class="headerlink" title="以太网与IEEE 802.3"></a>以太网与IEEE 802.3</h3><blockquote>
<p>IEEE 802.3的标准与以太网差别很小，所以将802.3局域网简称为以太网。</p>
</blockquote>
<ul>
<li><strong>以太网的逻辑拓扑是总线形结构,物理拓扑是星形结构。</strong></li>
<li>编码：曼切斯特编码</li>
<li>采用<strong>无连接</strong>的工作方式，不对发送的数据帧编号，也不要求接收方发送确认，是不可靠的交付。</li>
<li>逻辑上，所有计算机共享一条总线，信息以广播方式发送</li>
<li><p>MAC层 </p>
<ul>
<li>采用CSMA/CD介质访问控制协议 为防碰撞不能节点多</li>
<li>MAC地址/物理地址<ul>
<li>总线结构</li>
<li>给每个结点分配唯一的MAC地址</li>
<li>48 bit，高24bit为厂商标识符，低24位由厂商自行分配</li>
</ul>
</li>
<li>适配器/网络接口卡 NIC<ul>
<li>重要功能就是数据的<strong>串并转换</strong><ul>
<li>适配器与局域网的通信是串行方式的</li>
<li>与计算机的通信是通过I/O总线以并行方式进行的</li>
</ul>
</li>
<li>每收到一个帧就检查帧中的目的MAC地址</li>
<li>如果是<strong>发往本站的帧</strong>则进行处理，否则丢弃<ul>
<li>单播(unicast)帧(一对一)</li>
<li>广播(broadcast)帧(一对全体)，MAC地址为全1表示广播</li>
<li>组播/多播(multicast)帧(一对多)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>10BASE-T</p>
<ul>
<li>“10”表示数据率为10Mb/s</li>
<li>“BASE”表示电缆上的信号是基带信号</li>
<li>“T” 表示使用双绞线的最大长度是500m</li>
</ul>
</li>
</ul>
<h3 id="以太网的MAC帧"><a href="#以太网的MAC帧" class="headerlink" title="以太网的MAC帧"></a>以太网的MAC帧</h3><p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524223324911.png" alt="image-20250524223324911"></p>
<p>网卡中的MAC地址也称为<code>物理地址</code>，以太网中的MAC地址为<code>48位</code>，前24位为<code>厂商代码</code>，后24位为<code>厂商自定义</code>，<code>全球唯一</code>。</p>
<p>以太网帧最长1518B最短64B</p>
<ul>
<li>前导码：使得接收端和发送端时钟同步，8字节。<ul>
<li>前同步码：7字节，实现MAC帧的比特同步</li>
<li>帧开始界定符：1字节，标识MAC帧的开始</li>
</ul>
</li>
<li>目的地址：6字节，目的主机的MAC地址</li>
<li>源地址：6字节，源主机的MAC地址</li>
<li>类型：2字节，指出数据域中携带的数据应交给哪个协议实体处理</li>
<li>数据：46-1500字节，数据域中的数据，包含<code>高层协议信息</code>，由于<code>CSMA/CD</code>算法限制，以太网帧必须满足最小长度<code>64字节</code>，数据较少时需要填充</li>
<li>填充：0-46字节，填充帧，使之达到64字节最小长度。</li>
<li>帧检验序列(FCS)：4字节，用于检测帧中的差错，采用CRC校验</li>
</ul>
<blockquote>
<p>对于 10M/s 的以太网，规定 51.2μs 为争用期长度，，争用期内可发送 512bit ，即 64B ，这里的 512bit 也称为<strong>比特时间</strong>，即发送 512 比特所用的时间。</p>
<p>故以太网帧必须满足最小长度 64B ，而MAC帧首部和尾部的长度为 18B ，因此数据域的最小长度为 64−18=46B 。最大长度 1500B 是 IEEE 802.3 数据段的最大字节数。</p>
</blockquote>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525010402037.png" alt="image-20250525010402037"></p>
<p>6*8bit/100Mb/s=0.48us</p>
<h3 id="高速以太网"><a href="#高速以太网" class="headerlink" title="高速以太网"></a>高速以太网</h3><blockquote>
<p>10Mbit/s 以太网升级到100Mbit/s和1Gbit/s 甚至10Gbit/s时，需要解决哪些技术问题？</p>
<p>在帧的长度方面需要有什么改变？为什么？传输媒体应当有什么改变？</p>
</blockquote>
<p>以太网升级时，由于数据传输率提高了，帧的发送时间会按比例缩短，这样会影响冲突的检测</p>
<p>所以需要减小最大电缆长度或增大帧的最小长度</p>
<p>在帧的长度方面，几种以太网都采用802.3标准规定的以太网最小最大帧长</p>
<ul>
<li>100bit/s的以太网<ul>
<li>将一个网段的最大电缆长度减小到100m</li>
<li>将帧间间隔时间由原来的9.6 μs，改为0.96μs</li>
</ul>
</li>
<li>1Gbit/s以太网<ul>
<li>保持网段的最大长度为100m</li>
<li>用“载波延伸”和“分组突法”的办法使最短帧仍为64字节</li>
<li>同时将争用字节增大为512字节</li>
</ul>
</li>
</ul>
<p>传输媒体方面</p>
<p>10Mbit/s以太网支持同轴电缆、双绞线和光纤</p>
<p>100Mbit/s和1Gbit/s以太网支持双绞线和光纤</p>
<p>10Gbit/s以太网只支持光纤</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250527175534255.png" alt="image-20250527175534255"></p>
<ul>
<li><p>快速</p>
<ul>
<li><p>IEEE802.3u标准</p>
</li>
<li><p>传输速率100Mb/s</p>
</li>
<li><p>仍使用 IEEE 802.3 CSMA/CD 协议(全双工模式时不用)</p>
</li>
<li><p>MAC 帧格式仍然是 802.3 标准规定的</p>
</li>
<li><p>最短帧长不变，但将一个网段的最大电缆长度减小到100m</p>
</li>
<li><p>线缆标准</p>
<p>100BASE-TX：使用2 对UTP 5 类线或屏蔽双绞线 STP</p>
<p>100BASE-FX：使用1对光纤</p>
<p>100BASE-T4：使用4对 UTP3类线或5类线</p>
</li>
</ul>
</li>
<li><p>千兆</p>
<ul>
<li><p>IEEE802.3z标准</p>
</li>
<li><p>传输速率1Gb/s</p>
</li>
<li><p>仍使用 IEEE 802.3 CSMA/CD 协议(全双工模式时不用)</p>
</li>
<li><p>线缆标准</p>
<p>1000BASE-X：基于光纤</p>
<p>1000BASE-SX  SX表示短波长</p>
<p>1000BASE-LX  LX表示长波长</p>
<p>1000BASE-CX  CX表示铜线</p>
<p>1000BASE-T：使用 4对5类双绞线UTP </p>
</li>
</ul>
</li>
<li><p>万兆以太网（只用在干线）</p>
<ul>
<li>IEEE802.3ae标准</li>
<li>传输速率10Gb/s</li>
<li>帧格式不变</li>
<li>只使用光纤</li>
<li>只工作在<strong>全双工模式</strong>，不存在争用，因此不用CSMA/CD</li>
</ul>
</li>
</ul>
<h2 id="局域网互联"><a href="#局域网互联" class="headerlink" title="局域网互联"></a>局域网互联</h2><p>物理层拓展局域网</p>
<ul>
<li><p>使用中继器(repeater)或集线器(HUB)（工作在物理层）</p>
</li>
<li><p>优点：可以方便地实现网络的扩展，且成本较低</p>
</li>
<li><p>缺点：碰撞域增大，碰撞发生概率增大，可能影响网络性能</p>
</li>
</ul>
<p>数据链路层拓展局域网</p>
<p>网桥</p>
<ul>
<li><p>根据 MAC 帧的目的地址对收到的帧进行转发</p>
</li>
<li><p>过滤帧的功能</p>
<ul>
<li><p>当收到一个帧时，检查该帧的目的 MAC 地址，确定将该帧转发到哪一个接口</p>
</li>
<li><p>无需转发 丢弃</p>
</li>
<li><p>广播帧（目的地址是全1）向其他端口都转发</p>
</li>
</ul>
</li>
<li><p>隔离碰撞域功能  </p>
<ul>
<li>不同网段物理信号隔开-&gt;碰撞检测独立进行</li>
</ul>
</li>
</ul>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250313152231246.png" alt="image-20250313152231246" style="zoom:50%;" /></p>
<p>例子：1-&gt; 3 无需转发 丢弃（过滤功能）</p>
<p>​            5-&gt; 2 转发</p>
<ul>
<li><p>优点</p>
<ul>
<li>过滤通信量、增大吞吐量<ul>
<li>隔离碰撞域</li>
</ul>
</li>
<li>扩大了物理范围</li>
<li>提高了可靠性</li>
<li>互连<strong>不同物理层、不同 MAC 子层和不同速率</strong>的局域网<ul>
<li>因为数据链路层相同</li>
</ul>
</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>广播风暴<ul>
<li>因某些站点频繁发送广播帧产生网络拥塞</li>
<li>只适合于用户数不太多(不超过几百个)和通信量不太大的局域网</li>
</ul>
</li>
<li>存储转发增加时延</li>
<li><strong>在MAC子层并没有流量控制功能</strong></li>
</ul>
</li>
</ul>
<p>透明网桥(transparent bridge)</p>
<ul>
<li><p>站点并不知道所发送的帧将经过哪几个网桥，网桥对各站“透明”</p>
</li>
<li><p>是一种即插即用设备，标准：IEEE 802.1D</p>
</li>
<li><p><strong>自学习算法</strong>(self-learning)建立<strong>转发表</strong></p>
<ul>
<li><p>原理：若从 A 发出的帧从接口 x 进入了某网桥，那么从这个接口出发沿相反方向一定可把一个帧传送到 A</p>
</li>
<li><p>初始时转发表为空，通过自学习逐步建立</p>
</li>
<li><p>网桥收到一个帧后的处理过程</p>
<ul>
<li><p>首先进行自学习，检查帧中<strong>源地址</strong>在转发表中是否存在，如不存在，则在转发表添加一项，记下源地址和进入网桥的接口</p>
</li>
<li><p>然后转发帧，根据收到的帧中的目的地址在转发表中查找如果找到，则对应的接口即为转发接口</p>
<p><strong>如果未找到，则向除进入接口外的所有其他接口转发（泛洪）</strong></p>
</li>
</ul>
</li>
</ul>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525003248472.png" alt="image-20250525003248472" style="zoom:50%;" /></p>
</li>
<li><p><strong>生成树算法</strong></p>
<ul>
<li><p>用途：当多个局域网互连形成环路时，避免帧无休止转发</p>
</li>
<li><p>方法：建立生成树，找出网络拓扑的一个子集</p>
</li>
<li><p>网络拓扑动态变化，生成树需定期更新</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525003302125.png" alt="image-20250525003302125" style="zoom:50%;" /></p>
</li>
</ul>
</li>
</ul>
<p>多接口网桥—交换机/交换式集线器</p>
<ul>
<li>网路接口：十几到几十个，每个接口可连接主机或其他交换机</li>
<li>工作原理：网桥，每一个网络接口被视为一个网段<ul>
<li>交换机是一种多接口网桥</li>
</ul>
</li>
<li>与集线器相比<ul>
<li>提高网络性能：交换机工作在数据链路层，每个接口为一个网段(碰撞域)</li>
<li>集线器由所有接口共享传输介质的带宽，而交换机为每个接口独享带宽</li>
</ul>
</li>
</ul>
<p>虚拟局域网（VLAN）</p>
<ul>
<li><p>IEEE 802.1Q在以太网帧中加入tag字段，供交换机识别转发</p>
</li>
<li><p>VLAN(Virtual LAN)，在现有局域网基础上，通过将网络站点分组，构成若干逻辑上独立的虚拟局域网</p>
</li>
<li><p>注意：帧不会在两个VLAN之间自动转发，包括广播帧</p>
</li>
<li><p>==VLAN的用途：便于管理、控制广播风暴、安全性、…==</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250525003451392.png" alt="image-20250525003451392" style="zoom:50%;" /></p>
</li>
</ul>
<blockquote>
<p>不同VLAN主机无法直接数据链路层通信，属于不同广播域</p>
<p>即使连在一个交换机，也不行</p>
</blockquote>
<p>划分方法</p>
<ul>
<li>MAC地址</li>
<li>IP地址</li>
<li>接口</li>
</ul>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524195546153.png" alt="image-20250524195546153"></p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524195531696.png" alt="image-20250524195531696"></p>
<p>某局域网采用CSMA/CD协议实现介质访问控制，数据传输率为100Mb/s，主 机甲和主机乙的距离为2km，信号传播速度是200000km/s。请回答下列问题， 并给出计算过程。 </p>
<p>(1) 若主机甲和主机乙发送数据时发生冲突，则从开始发送数据时刻起，到两台主机均检测到冲突时刻为止，最短经过多长时间？最长经过多长时间？(假 设主机甲和主机已发送数据时，其它主机不发送数据)</p>
<p>甲乙间单向传输时延= 2/200000 = 10us 最短：无论冲突点在何处，冲突信号向甲乙方向扩散的总时间不小于10us 最长：甲发送的帧即将到达乙时，乙开始发送数据造成冲突，甲检测到该冲突的 时间= 20us</p>
<p><img src="https://gitee.com/fat1ger/picbed/raw/master/img/image-20250524221550103.png" alt="image-20250524221550103" style="zoom:50%;" /></p>
<p>2)若网络不存在任何冲突与差错，主机甲总以标准的最长以太网数据帧(1518 字节)向主机乙发送数据，主机乙成功收到一个数据帧后，就立即向主机甲发送一个64字节的确认帧，主机甲收到确认帧后方可发送下一个数据帧。此时主机甲的有效数据传输速率是多少(不考虑以太网的前导码)?</p>
<p>甲方发送一个数据帧的时间即发送时延t1=1518x8bit-10Mbs=1.2144ms</p>
<p>乙方确认帧的发送时延t2=64x8bit-10Mb/s=0.0512ms</p>
<p>甲方的发送周期T=数据帧发送时延t1+确认帧发送时延t2+双程传播时延 2t0=1.2856ms</p>
<p>有效数据传输速率=信道利用率x信道带宽(最大数据传输速率)</p>
<p>有效数据传输速率=发送周期内发送的数据量/发送周期</p>
<p><strong>以太网帧的数据部分为1500B</strong></p>
<p>1500x8/T=12000bit/1.2856ms=9.33Mb/s。</p>
<p>在一个采用CSMA/CD协议的网络中，传输介质是一根完整的电缆，传输速率为1Gbps，电缆中的信号传播速度是200000km/s。若最小数据帧长度减少800 比特，则最远的两个站点之间的距离至少需要:</p>
<p>争用期=800bit/1Gbps</p>
<p>争用期=2*单向时延=2*L/200000km/s</p>
<blockquote>
<p>为什么局域网采用广播通信 方式而广域网不采用 呢？</p>
</blockquote>
<p>局域网:</p>
<p>局域网中的机器都连接到同一条物理线路，所有主机的数据传输都经过这条链路</p>
<p>采用的通信方式是将主机要发送的数据送到公用链路上，发送至所有的主机，接收端通过地址对比，接收发往自己的数据，并丢弃其他数据的方式。</p>
<p>广域网：</p>
<p>由更大的的地理空间、更多的主机构成的</p>
<ul>
<li>主机间发送数据时，将会独自占用通信链路，降低了网络的使用率</li>
<li>消耗主机的处理能力、造成了数据的无效流动</li>
<li>极易产生广播风暴</li>
</ul>
<blockquote>
<p>假定站点A和B在同一个10 Mbit/s以太网网段上。这两个站点之间的传播时延为 225比特时间。现假定A开始发送一帧，并且在A发送结束之前B也发送一帧。</p>
<p>如果A发送的是以太网所容许的最短的帧，那么A在检测到和B发生碰撞之前能否把自己的数据发送完毕？换言之，如果A在发送完毕之前并没有检测到碰撞，那么能否肯定A所发送的帧不会和B发送的帧发生碰撞？（提示：在计算时应当考虑到每一个以太网帧在发送到信道上时，在MAC帧前面还要增加若干字节的前同步码和帧 定界符。）</p>
</blockquote>
<p>设在t=0时A开始发送</p>
<p>若干字节的前同步码和帧定界符总共8字节，一个字节等于8bit</p>
<p>在t=（64+8）*8=576比特时间,A发送完毕</p>
<p>假定B在t=224比特时间时发送了数据，在t=255比特时间时，b检测出碰撞，发送信号</p>
<p>经225比特时间到达A，这时t=449比特时间，A还没有发送完毕（224+225=450&lt;576）</p>
<p>因此A在检测到和B发生碰撞之前，不能把自己的数据发送完</p>
<p>如果A在发送完毕之前并没有检测到碰撞，能肯定A所发送的帧不会和B发送的帧发生碰撞</p>
<blockquote>
<p>上题中的站点A和B在t = 0时同时发送了数据帧。当t= 225比特时间，A和B同 时检测到发生了碰撞，并且在t= 225 + 48 = 273比特时间完成了干扰信号的传输。</p>
<p>A 和B在CSMA/CD算法中选择不同的r值退避。假定A和B选择的随机数分别是rA =0和rs= 1。</p>
<p>试问A和B各在什么时间开始重传其数据帧？</p>
<p>A重传的数据帧在什么 时间到达B?</p>
<p>A重传的数据会不会和B重传的数据再次发生碰撞？</p>
<p>B会不会在预定的重传时间停止发送数据？</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>时刻</th>
<th>事件</th>
</tr>
</thead>
<tbody>
<tr>
<td>t=0</td>
<td>A 和 B 同时发送</td>
</tr>
<tr>
<td>t=225</td>
<td>双方检测到碰撞</td>
</tr>
<tr>
<td>t=273 = 225 + 48</td>
<td>双方完成干扰信号发送</td>
</tr>
<tr>
<td>A退避 rA=0 ⇒ 等0比特时间；B退避 rB=1 ⇒ 等512比特时间</td>
<td></td>
</tr>
<tr>
<td>A在 t=273 之后立即检测信道</td>
<td></td>
</tr>
<tr>
<td>信道实际空闲时间 = t=498（273 + 225）48bit的最后1bit到达的时间</td>
<td></td>
</tr>
<tr>
<td>A帧间间隔等待96 ⇒ t=498 + 96 = 594 比特时间，A开始重传</td>
<td></td>
</tr>
<tr>
<td>A信号传播至B需要 225 ⇒ A的帧在 t=594 + 225 = 819 比特时间到达B</td>
<td></td>
</tr>
<tr>
<td>B在 t=785（273 + 512）检测信道，发现它还在被A占用（直到819）</td>
<td>B载波监听</td>
</tr>
<tr>
<td>因此B不能在 t=881 发送帧，必须重新退避等待</td>
</tr>
</tbody>
</table>
</div>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://seafoodfat1ger.github.io">Fat1ger</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://seafoodfat1ger.github.io/2025/05/24/network/Chapter3/">http://seafoodfat1ger.github.io/2025/05/24/network/Chapter3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://seafoodfat1ger.github.io" target="_blank">水货不水</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/compter-network/">compter_network</a></div><div class="post_share"><div class="social-share" data-image="/img/Background.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/05/24/network/Chapter1/" title="Chapter1 概述"><img class="cover" src="/img/Background.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Chapter1 概述</div></div></a></div><div class="next-post pull-right"><a href="/2025/05/23/network/Chapter2/" title="Chapter2 物理层"><img class="cover" src="/img/Background.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Chapter2 物理层</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2025/05/24/network/Chapter1/" title="Chapter1 概述"><img class="cover" src="/img/Background.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-24</div><div class="title">Chapter1 概述</div></div></a></div><div><a href="/2025/05/23/network/Chapter2/" title="Chapter2 物理层"><img class="cover" src="/img/Background.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-23</div><div class="title">Chapter2 物理层</div></div></a></div><div><a href="/2025/05/30/network/Chapter5/" title="Chapter5 传输层"><img class="cover" src="/img/Background.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-30</div><div class="title">Chapter5 传输层</div></div></a></div><div><a href="/2025/05/27/network/Chapter4/" title="Chapter4 网络层"><img class="cover" src="/img/Background.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-27</div><div class="title">Chapter4 网络层</div></div></a></div><div><a href="/2025/05/31/network/Chapter6/" title="Chapter6 应用层"><img class="cover" src="/img/Background.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-31</div><div class="title">Chapter6 应用层</div></div></a></div><div><a href="/2025/06/01/network/Chapter7/" title="Chapter7 IPv6"><img class="cover" src="/img/Background.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-01</div><div class="title">Chapter7 IPv6</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/toux.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Fat1ger</div><div class="author-info__description">燕子不归春事晚,一汀烟雨杏花寒</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SeafoodFat1ger"><i class="fab fa-github"></i><span>github地址</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter3-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.</span> <span class="toc-text">Chapter3 数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.</span> <span class="toc-text">功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%AF%B9%E7%82%B9%E4%BF%A1%E9%81%93%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">点对点信道中的一些概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.2.</span> <span class="toc-text">为网络层提供服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.3.</span> <span class="toc-text">链路管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.1.4.</span> <span class="toc-text">流量控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="toc-number">1.1.5.</span> <span class="toc-text">差错控制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7"><span class="toc-number">1.2.</span> <span class="toc-text">封装成帧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6-1"><span class="toc-number">1.3.</span> <span class="toc-text">差错控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.1.</span> <span class="toc-text">检错编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.2.</span> <span class="toc-text">纠错编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.</span> <span class="toc-text">流量控制与可靠传输机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6-1"><span class="toc-number">1.4.1.</span> <span class="toc-text">流量控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.2.</span> <span class="toc-text">可靠传输机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.4.3.</span> <span class="toc-text">信道利用率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6MAC"><span class="toc-number">1.5.</span> <span class="toc-text">介质访问控制MAC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%88%E9%9D%99%E6%80%81%EF%BC%89"><span class="toc-number">1.5.1.</span> <span class="toc-text">信道划分介质访问控制（静态）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%88%E5%8A%A8%E6%80%81%EF%BC%89"><span class="toc-number">1.5.2.</span> <span class="toc-text">随机访问介质访问控制（动态）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CSMA-CD%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">CSMA&#x2F;CD协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PPP%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.</span> <span class="toc-text">PPP协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">1.7.</span> <span class="toc-text">局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.7.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.7.2.</span> <span class="toc-text">特点*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E7%89%B9%E6%97%B6%E9%97%B4"><span class="toc-number">1.7.3.</span> <span class="toc-text">比特时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%B8%8EIEEE-802-3"><span class="toc-number">1.7.4.</span> <span class="toc-text">以太网与IEEE 802.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84MAC%E5%B8%A7"><span class="toc-number">1.7.5.</span> <span class="toc-text">以太网的MAC帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">1.7.6.</span> <span class="toc-text">高速以太网</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%92%E8%81%94"><span class="toc-number">1.8.</span> <span class="toc-text">局域网互联</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-number">1.9.</span> <span class="toc-text">题目</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/06/01/network/Chapter8/" title="Chapter8 WLAN"><img src="/img/Background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Chapter8 WLAN"/></a><div class="content"><a class="title" href="/2025/06/01/network/Chapter8/" title="Chapter8 WLAN">Chapter8 WLAN</a><time datetime="2025-06-01T11:30:14.000Z" title="发表于 2025-06-01 19:30:14">2025-06-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/01/network/Chapter7/" title="Chapter7 IPv6"><img src="/img/Background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Chapter7 IPv6"/></a><div class="content"><a class="title" href="/2025/06/01/network/Chapter7/" title="Chapter7 IPv6">Chapter7 IPv6</a><time datetime="2025-06-01T07:30:14.000Z" title="发表于 2025-06-01 15:30:14">2025-06-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/31/network/Chapter6/" title="Chapter6 应用层"><img src="/img/Background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Chapter6 应用层"/></a><div class="content"><a class="title" href="/2025/05/31/network/Chapter6/" title="Chapter6 应用层">Chapter6 应用层</a><time datetime="2025-05-31T13:30:14.000Z" title="发表于 2025-05-31 21:30:14">2025-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/30/network/Chapter5/" title="Chapter5 传输层"><img src="/img/Background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Chapter5 传输层"/></a><div class="content"><a class="title" href="/2025/05/30/network/Chapter5/" title="Chapter5 传输层">Chapter5 传输层</a><time datetime="2025-05-30T06:30:14.000Z" title="发表于 2025-05-30 14:30:14">2025-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/27/network/Chapter4/" title="Chapter4 网络层"><img src="/img/Background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Chapter4 网络层"/></a><div class="content"><a class="title" href="/2025/05/27/network/Chapter4/" title="Chapter4 网络层">Chapter4 网络层</a><time datetime="2025-05-27T06:30:14.000Z" title="发表于 2025-05-27 14:30:14">2025-05-27</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Fat1ger</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script defer src="/js/cursor.js"></script><script async src="//at.alicdn.com/t/c/font_4046602_w4e3ixuz8in.js"></script><div class="aplayer no-destroy" data-id="3107471442" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>